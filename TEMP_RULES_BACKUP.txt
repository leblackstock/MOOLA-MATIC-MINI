TEMP RULES BACKUP
Created: 2026-02-13

==== AGENTS.md ====
AGENTS.md — MOOLA-MATIC Workflow

Cursor rules and `AGENTS.md` must always mirror each other.

Two modes are supported: Run and Edit.

Run mode

- Trigger: user message begins with "/run-moola" or open `commands/run-moola.md`.
- Source of truth: follow `Original-Editable/PROJECT SYSTEM INSTRUCTIONS - MOOLA-MATIC.txt`, then the file order in `Original-Editable/MOOLA-MATIC PROMPT.txt`.
- Workflow details (multi-pass, logging, JSON handling) live in `commands/run-moola.md` and the `Original-Editable/*.txt` files.
- Default output: Identify + Value unless the user explicitly says "List" or "Listing".

Edit mode

- Trigger: user message begins with "/edit-moola" or open `commands/edit-moola.md`.
- Purpose: improve rules, templates, schemas, and workflow docs.
- Do not output listings in Edit mode.

Reference-only files

- `Original/*.txt` are reference-only and must NOT be modified.
- Use `Original-Editable/*.txt` as the editable source of truth.

Templates

- `templates/identify-template.txt`
- `templates/value-template.txt`
- `templates/list-json-template.json`
- `templates/list-json-confirmation.txt`
- `templates/listperfectly-selectors-priority.txt`
- `templates/measurements/measurements-shoes.txt`
- `templates/measurements/measurements-boots.txt`
- `templates/measurements/measurements-garments.txt`
- `templates/measurements/measurements-standard-lwh.txt`

==== .cursor/rules/moola-routing.mdc ====
---
description: Moola-Matic routing and mode triggers
alwaysApply: true
---

AGENTS.md — MOOLA-MATIC Workflow

Cursor rules and `AGENTS.md` must always mirror each other.

Two modes are supported: Run and Edit.

Run mode

- Trigger: user message begins with "/run-moola" or open `commands/run-moola.md`.
- Source of truth: follow `Original-Editable/PROJECT SYSTEM INSTRUCTIONS - MOOLA-MATIC.txt`, then the file order in `Original-Editable/MOOLA-MATIC PROMPT.txt`.
- Workflow details (multi-pass, logging, JSON handling) live in `commands/run-moola.md` and the `Original-Editable/*.txt` files.
- Default output: Identify + Value unless the user explicitly says "List" or "Listing".

Edit mode

- Trigger: user message begins with "/edit-moola" or open `commands/edit-moola.md`.
- Purpose: improve rules, templates, schemas, and workflow docs.
- Do not output listings in Edit mode.

Reference-only files

- `Original/*.txt` are reference-only and must NOT be modified.
- Use `Original-Editable/*.txt` as the editable source of truth.

Templates

- `templates/identify-template.txt`
- `templates/value-template.txt`
- `templates/list-json-template.json`
- `templates/list-json-confirmation.txt`
- `templates/listperfectly-selectors-priority.txt`
- `templates/measurements/measurements-shoes.txt`
- `templates/measurements/measurements-boots.txt`
- `templates/measurements/measurements-garments.txt`
- `templates/measurements/measurements-standard-lwh.txt`

==== .cursor/rules/moola-run.mdc ====
---
description: Run mode behavior for Moola-Matic
globs: commands/run-moola.md
alwaysApply: false
---

# Run mode

- Source of truth: follow `Original-Editable/PROJECT SYSTEM INSTRUCTIONS - MOOLA-MATIC.txt`, then the file order in `Original-Editable/MOOLA-MATIC PROMPT.txt`.
- Use `commands/run-moola.md` for the multi-pass workflow and pass-logging behavior.
- Default output is Identify+Value unless the user explicitly requests List/Listing.

==== .cursor/rules/moola-edit.mdc ====
---
description: Edit mode for improving Moola-Matic
globs: commands/edit-moola.md
alwaysApply: false
---

# Edit mode
- Focus on improving rules, templates, schemas, and workflow docs.
- Keep `Original/*.txt` as reference-only; do not modify them.
- Use `Original-Editable/*.txt` for editable prompt/rule updates (primary source of truth).
- Keep `.cursor/rules/`, `AGENTS.md`, and `commands/` in sync with Original-Editable.
- Do not output listings in Edit mode.

==== commands/run-moola.md ====
Run Mode (copy/paste to start a run; tells Cursor to use Run mode)

/run-moola
Enter Run mode for MOOLA-MATIC.
Run MOOLA-MATIC on the attached item(s). Default to Identify+Value unless I say "List".
If I say "List", create the JSON file with the correct filename and respond with:
JSON file created.
Prioritize auto-fill fields used by ListPerfectly selectors first.
After a List run, open the Playwright UI and load the generated JSON file.
Include estimated measurements in the initial JSON output; the UI only edits.
Use a multi-pass workflow: Step 0 create the JSON file first (draft content allowed), Pass 1 extract facts/assumptions, Pass 2 draft title/description/pricing, Pass 3 validate rules/schema and fix gaps, Pass 4 QA for missing details or violations. If QA finds issues, restart at Pass 1 and re-run all passes through QA. Output a short line each time a pass runs and when a QA loop restarts, before the listing output.

Inputs I will provide:

- Photos and/or item details
- COGS (acquisition cost)
- Any known measurements or condition notes

==== commands/edit-moola.md ====
Edit Mode (copy/paste to start editing)

/edit-moola
Improve the MOOLA-MATIC workflow, rules, schema, or templates.
Do not modify Original/*.txt (reference-only).
Describe the change you want and which file(s) to update.
